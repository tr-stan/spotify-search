<!DOCTYPE html>
<html>

<head>
    <title>Spotify Search</title>
    <style>
    	@import url('https://fonts.googleapis.com/css?family=Space+Mono:400,700&display=swap');
    	body {
    		margin: 0 auto;
    		padding: 5vh 5vw;
    		color: rgb(25, 20, 20);
    		font-family: 'Space Mono', monospace;
    	}

    	section {
    		background-color: rgba(25, 20, 20, 0.15);
    		border-radius: 5px;
    		padding: 10px;
    		margin: 10px auto;
    	}

    	h1 {
    		color: rgb(30, 215, 96);
    		background-color: rgba(25, 20, 20, 0.95);
    		padding: 1vh 2vw;
    		border-radius: 5px;
   		 }

   		 h2, h3 {
   		 	display: inline-block;
   		 	color: rgba(30, 215, 96, 0.8);
    		background-color: rgba(25, 20, 20, 0.95);
    		padding: 5px 1vw;
    		border-radius: 5px;
   		 }

   		p {
   			line-height: 40px;
   		}   		

   		li {
   			list-style-type: none;
   			margin: 20px;
   		}

    	strong {
    		background-color: rgba(30, 215, 96, 0.4);
    		margin: 10px;
    		padding: 5px 10px;
    		border-radius: 10px;
    	}
    </style>
</head>

<body>
    <header>
        <h1>Spotify Search</h1>
        <p>You can use this API to search for tracks, artists, and artists' top 10 songs via Spotify's Web API. The data you receive will be in JSON format.</p>
    </header>
    <section id="setup">
        <h2>How to set up the API</h2>
        <p>You can clone this repository to your local device by opening up your terminal and typing the commands:</p>
        <ul>
        	<li><code>mkdir spotify-search && cd spotify-search</code></li>
            <li><code>npm install</code></li>
            <li><code>git clone https://github.com/tr-stan/spotify-search.git</code></li>
        </ul>
        <p>Then you will need to create a dotenv (<code>.env</code>) file:</p>
        <ul>
            <li><code>touch .env</code></li>
        </ul>
        <p>In this <code>.env</code> file, you will need to declare three environment variables. As you will see in the <code>index.js</code> file, there are three variables defined starting with <code>process.env</code>. Those you will need to define in your <code>.env</code> file such as:</p>
        <ul>
            <li><code>CLIENT_ID=AbCd1234Efg90xYZ</code></li>
            <li><code>CLIENT_SECRET=123foUr567eIGht9tEn</code></li>
            <li><code>PORT=4321</code></li>
        </ul>
        <p>( Don't forget to add your <code>.env</code> file to youre <code>.gitignore</code> file: <code>echo .env >> .gitignore</code>)</p>
        <p>In order to get the <code>CLIENT_ID</code> and <code>CLIENT_SECRET</code> data, you will need to <a href="https://developer.spotify.com/dashboard/login">login to Spotify's developer site</a> and register a new app. It's a quick and easy process, so please don't be deterred by this step!</p>
        <p>If you need any help figuring out how to register/set up your app, you can <a href="https://developer.spotify.com/documentation/general/guides/app-settings/">see Spotify's App Setting Guide</a>.</p>
        <p>Now if you use the command <code>npm run dev</code> your server should start up with nodemon at 'http://localhost:9000' or 'http://localhost:' + whatever you made your port in your <code>.env</code> file.</p>
    </section>
    <section id="usage">
        <h2>Using the API</h2>
        <div>
            <h3>Quick note on your search queries</h3>
            <p>Please note that your searches must be UTF-8 encoded.</p>
            <p>You can use the ECMAScript <code>encodeURI()</code> built-in object method to encode your search</p>
            <p>( i.e. <code>encodeURI("Little Dragon")</code> => "Little%20Dragon", <code>encodeURI("Rock With You")</code> => "Rock%20With%20You" ).</p>
            <p>I set my port in my <code>.env</code> file as <code>PORT=4321</code>, so I will be using <code>http://localhost:4321</code> as my base URL.</p>
        </div>
        <div>
            <h3>To search for a track</h3>
            <p>This will return a list of 10 items that most closely match your search.</p>
            <p>Send a fetch request to <code>http://localhost:4321/tracks/:trackName</code></p>
            <p>Example cURL request for Michael Jackson's "Rock With You":</p>
            <p><code>curl 'http://localhost:4321/tracks/rock%20with%20you'</code></p>
        </div>
        <div>
            <h3>To search for an artist</h3>
            <p>This will return a list of 10 items that most closely match your search.</p>
            <p>Send a fetch request to <code>http://localhost:4321/artists/:artistName</code></p>
            <p>Example cURL request for "Little Dragon":</p>
            <p><code>curl 'http://localhost:4321/artists/Little%20Dragon'</code></p>
        </div>
        <div>
            <h3>To search for an artist's top ten tracks</h3>
            <p>This fetch requires you to know the specific artist's Spotify ID, which you can get from the previous request (/artists/:artistName).</p>
            <p>Send a fetch request to <code>http://localhost:4321/artists/:artistID/top-tracks</code></p>
            <p>Example cURL request for Little Dragon's top ten tracks in Spotify:</p>
            <p><code>curl 'http://localhost:4321/6Tyzp9KzpiZ04DABQoedps/top-tracks'</code></p>
        </div>
    </section>
</body>

</html>